# Quiz - T-022

1. What is the default polling interval for the Messages.app poller in T-022?

<details>
<summary>Answer</summary>
`1000ms` (configurable via env/settings).
</details>

2. How does the poller avoid importing historical messages that existed before server startup?

<details>
<summary>Answer</summary>
At boot, it initializes the cursor (`lastRowId`) from rows at or before boot time, then only reads rows with `ROWID > lastRowId`.
</details>

3. Why does the poller use `ROWID` for incremental reads?

<details>
<summary>Answer</summary>
`ROWID` is monotonic in the `message` table, which makes "new since last" reads deterministic and efficient.
</details>

4. Does the poller write anything back to `chat.db`?

<details>
<summary>Answer</summary>
No. It opens sqlite in read-only mode and never performs writes.
</details>

5. Which records are skipped before appending to RAW logs?

<details>
<summary>Answer</summary>
Outgoing messages (`is_from_me = 1`) are skipped; only incoming messages are appended.
</details>

6. What protects Meteor from blocking during polling?

<details>
<summary>Answer</summary>
The poller uses async IO and a non-overlapping tick loop (`inFlight` guard), so long ticks do not stack.
</details>

7. How are Apple Messages `date` values normalized for `receivedAt`?

<details>
<summary>Answer</summary>
The poller converts from Apple epoch (2001-01-01) and supports both seconds and nanoseconds by checking value magnitude.
</details>
