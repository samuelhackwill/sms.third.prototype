- ## T-050A — Stage/Admin routes + templates skeleton (FlowRouter, no Pixi)

  ### Goal

  Add two new routes using **FlowRouter**:

  - `/stage` (fullscreen page shell for the stage renderer)
  - `/admin/stage` (admin test panel with buttons Send 1/5/10 and optional Clear)

  This task sets up **files, templates, layouts**, and a minimal **BroadcastChannel event emitter/listener stub** to prove that the two pages can communicate **without Pixi**.

  ### Deliverables (files to create)

  **Routes**

  - `imports/startup/client/routes.stage.js`
    Defines both routes via FlowRouter and renders templates into the main layout.

  **Templates**

  - `imports/ui/pages/stage/stage.html`
  - `imports/ui/pages/stage/stage.js`
  - `imports/ui/pages/stage/stage.css` (optional)
  - `imports/ui/pages/adminStage/adminStage.html`
  - `imports/ui/pages/adminStage/adminStage.js`
  - `imports/ui/pages/adminStage/adminStage.css` (optional)

  **(Optional but recommended) shared constants**

  - `imports/ui/pages/stage/stageTestData.js`
    Exports:
    - `FAKE_PHONES` (array of ~10)
    - `FAKE_MESSAGES` (your list)
    - `makeFakeMessages(n)` helper (returns `{id, phone, body, createdAt}`)

  ### Implementation details

  #### 1) Route wiring (FlowRouter)

  - Add two routes:
    - `/stage`
    - `/admin/stage`
  - Each route renders into your app layout. If your project already uses a layout template (e.g. `App_body` or `mainLayout`), use the established pattern:
    - `BlazeLayout.render("MainLayout", { main: "StagePage" })`
    - `BlazeLayout.render("MainLayout", { main: "AdminStagePage" })`
  - **Do not** introduce Pixi or canvas here—only DOM placeholders.

  #### 2) `/stage` template shell

  `StagePage` should render:

  - A full-viewport container for Pixi later, e.g.
    - `<div class="stageRoot">`
    - `<div id="stageCanvasHost"></div>` (Pixi will mount here in T-050B)
  - A minimal debug area (optional) like:
    - `<div class="stageDebug">{{lastEvent}}</div>` (helps validate BroadcastChannel)

  Stage CSS (optional but useful now):

  - `html, body { margin:0; padding:0; width:100%; height:100%; overflow:hidden; background:#000; }`
  - `.stageRoot, #stageCanvasHost { width:100vw; height:100vh; }`

  #### 3) `/admin/stage` template shell

  `AdminStagePage` should render:

  - Three buttons: Send 1 / Send 5 / Send 10
  - Optional Clear button
  - Optional small log area showing last payload sent

  No Pixi; this is just UI + event posting.

  #### 4) BroadcastChannel wiring (no Pixi)

  - Channel name: `"stage_test"`
  - In `/admin/stage` JS:
    - Create a channel and `postMessage({type:"spawn", messages:[...]})` on button clicks.
    - Optional: `postMessage({type:"clear"})`.
  - In `/stage` JS:
    - Create a channel and listen `onmessage`.
    - Update a reactive var `lastEvent` (stringified) so you can confirm events arrive.

  This gives you a working “admin controls stage” loop without any rendering.

  ### Acceptance checklist

  - Navigating to `/stage` shows a black fullscreen page with a placeholder container (`#stageCanvasHost`).
  - Navigating to `/admin/stage` shows the buttons.
  - Clicking Send 1/5/10 updates the stage page debug text within the same browser profile (BroadcastChannel working).
  - No Pixi imports yet; no canvas created yet.
